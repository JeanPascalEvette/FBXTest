<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.0//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'>
<svg width='280' height='280'
xmlns='http://www.w3.org/2000/svg'
xmlns:xlink='http://www.w3.org/1999/xlink'
onload='init(evt)' >

<style>
	svg
{
margin-left:100px;
margin-top:100px;
}
.edge{
		stroke: black;
		stroke-width: 1;
	}
	.button{
		fill: #2060dd;
		stroke: #2580ff;
		stroke-width: 1;
	}
	.button:hover{
		stroke-width: 3;
	}
</style>
<script type='text/ecmascript'> 
<![CDATA[
edges = [[0,2],[2,3],[3,1],[1,0],[4,5],[5,7],[7,6],[6,4],[1,5],[4,0],[3,7],[2,6]]
faces = [[0,2,3,1],[4,5,7,6],[0,1,5,4],[1,3,7,5],[3,2,6,7],[2,0,4,6]]
depth = [0,0,0,0,0,0]
x_coords = [30.0,130.0,30.0,130.0,30.0,130.0,30.0,130.0];
y_coords = [30.0,30.0,130.0,130.0,30.0,30.0,130.0,130.0];
z_coords = [80.0,80.0,80.0,80.0,180.0,180.0,180.0,180.0];


centre_x = 80.0;
centre_y = 80.0;
centre_z = 80.0;


function init(evt)
{
	if ( window.svgDocument == null )
	{
		svgDocument = evt.target.ownerDocument;
	}
	rotateAboutX(0.78539815);
	rotateAboutY(0.78539815);
	calculateDepth();
	drawBox();
}

function calculateDepth()
{
	var facesDepth = Array(faces.length);
	for(var i = 0; i < faces.length; i++)
	{
		var currentDepth = 0;
		for(var u = 0; u < faces[i].length; u ++)
		{
			currentDepth += z_coords[faces[i][u]];
		}
		currentDepth /= faces[i].length;
		facesDepth[i] = currentDepth;
	}
	
	
	for(var i = 0; i < depth.length; i++)
	{
		var smallest = -1;
		for(var u = 0; u < facesDepth.length; u++)
		{
			if(facesDepth[u] != -99999 && (smallest == -1 || facesDepth[smallest] > facesDepth[u]))
				smallest = u;
		}
		depth[i] = smallest;
		facesDepth[smallest] = -99999;
	}
	
}

function drawBox()
{
	for(var i=0; i<depth.length; i++)
	{
		face = svgDocument.getElementById('face-'+i);
		var d = 'm'+x_coords[faces[depth[i]][0]]+' '+y_coords[faces[depth[i]][0]];
		for(var u = 1; u < faces[depth[i]].length; u++)
		{	
			d+= ' ' + 'L'+x_coords[faces[depth[i]][u]]+' '+y_coords[faces[depth[i]][u]];
		}
		d+= ' Z';
		face.setAttributeNS(null, 'd', d);
	}
}


function rotateAboutX(radians)
{
	for(var i=0; i<x_coords.length; i++)
	{
		y = y_coords[i] - centre_y;
		z = z_coords[i] - centre_z;
		d = Math.sqrt(y*y + z*z);
		theta  = Math.atan2(y, z) + radians;
		y_coords[i] = centre_y + d * Math.sin(theta);
		z_coords[i] = centre_z + d * Math.cos(theta);
	}
}


function rotateAboutY(radians)
{
	for(var i=0; i<x_coords.length; i++)
	{
		x = x_coords[i] - centre_x;
		z = z_coords[i] - centre_z;
		d = Math.sqrt(x*x + z*z);
		theta  = Math.atan2(x, z) + radians;
		x_coords[i] = centre_x + d * Math.sin(theta);
		z_coords[i] = centre_z + d * Math.cos(theta);
	}
	drawBox();
}

]]>
</script>


<path stroke='#068706' fill='#068706' id='face-0' d=''/>
<path stroke='#057e05' fill='#057e05' id='face-1' d=''/>
<path stroke='#057505' fill='#057505' id='face-2' d=''/>
<path stroke='#046c04' fill='#046c04' id='face-3' d=''/>
<path stroke='#046304' fill='#046304' id='face-4' d=''/>
<path stroke='#035a03' fill='#035a03' id='face-5' d=''/>

</svg>